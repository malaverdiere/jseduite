digraph feed_reader_business {

  label="ImageScraper business process";
  fontname="Courier";
  node [fontsize=12, shape="record"];
  edge [fontname="Courier", fontsize=9];
  fontsize=12;

  a1 [label="a1|receive(tags,size)"];
  a02 [label="a02|picasa* := PicasaWrapper::getFolksonomyContent(tags)"];
  a02_catch [label="-|picasa* := []",fillcolor="#F08080",style="filled"];
  a02 -> a02_catch [label="onError",arrowhead="dot",arrowtail="dot"];

  a12 [label="a12|flickr* := FlickrWrapper::getFolksonomyContent(tags)"];
  a12_catch [label="-|flickr* := []", fillcolor="#F08080",style="filled"];
  a12 -> a12_catch [label="onError",arrowhead="dot",arrowtail="dot"];

  a3 [label="a3|merged* := merge(picasa*,flickr*)"];
  a4 [label="a4|shuffled* := shuffle(merged*)"];
  a5 [label="a5|truncated* := truncate(shuffled,size)"];
  a6 [label="a6|reply(truncated*)"];

  a1 -> a02;
  a1 -> a12;
  a12 -> a3;
  a02 -> a3;
  a02 -> a12 [style="invis"]; // cosmetic artefact
  a3 -> a4;
  a4 -> a5;
  a5 -> a6;

}